{"ast":null,"code":"var _jsxFileName = \"/Users/sammitafoya/oliver-take-home/src/AddReview.js\";\nimport React, { Component } from 'react';\nimport './App.css';\n\nclass AddReview extends Component {\n  constructor(props) {\n    super(props);\n\n    this.callApi = async () => {\n      console.log(\"inside callApi()\");\n      var urlGetUsers = \"/api/allposts\";\n      const responseT = await fetch(urlGetUsers);\n      const body = await responseT.json(); //debugger;\n\n      if (responseT.status === 200) {\n        console.log(\"callApi() succeeded\");\n      } else {\n        console.log(\"callApi() failed\");\n        var errMsg = \"ERROR: callApi() failed: (response.status===\" + responseT.status + \") \" + body.message;\n        throw Error(errMsg);\n      }\n\n      return body;\n    };\n\n    this.handleSubmit = async e => {\n      console.log(\"Inside Blog.handleSubmit\");\n      e.preventDefault(); //debugger;\n\n      if (localStorage.getItem('isLoggedin')) {\n        var submitUrl = \"/api/blog\";\n        var data = {\n          blogText: this.state.blogText,\n          userV: localStorage.getItem('emailVal'),\n          nameV: localStorage.getItem('nameVal')\n        };\n        const response = await fetch(submitUrl, {\n          method: 'POST',\n          // need these headers for post\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n        this.setState({\n          blogText: this.state.textAreaVal\n        });\n        const body = await response.text();\n        this.setState({\n          blogText: this.state.textAreaVal\n        }); // fix key, count isnt working\n\n        let newList = this.state.postList.concat( /*#__PURE__*/React.createElement(\"div\", {\n          key: this.state.count,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          class: \"card-header\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          class: \"d-flex justify-content-between align-items-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          class: \"d-flex justify-content-between align-items-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          class: \"ml-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          class: \"h5 m-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 37\n          }\n        }, localStorage.getItem('emailVal')), /*#__PURE__*/React.createElement(\"div\", {\n          class: \"h7 text-muted\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 37\n          }\n        }, localStorage.getItem('nameVal')))))), /*#__PURE__*/React.createElement(\"div\", {\n          class: \"card-body\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          class: \"card-text\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }\n        }, this.state.textAreaVal)), /*#__PURE__*/React.createElement(\"div\", {\n          class: \"card-footer\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          href: \"#\",\n          class: \"card-link\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          class: \"fa fa-gittip\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 55\n          }\n        }), \" Like\"), /*#__PURE__*/React.createElement(\"a\", {\n          href: \"#\",\n          class: \"card-link\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          class: \"fa fa-comment\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 55\n          }\n        }), \" Comment\"), /*#__PURE__*/React.createElement(\"a\", {\n          href: \"#\",\n          class: \"card-link\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          class: \"fa fa-mail-forward\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 55\n          }\n        }), \" Share\"))));\n        this.setState({\n          postList: newList\n        });\n        this.setState({\n          userV: localStorage.getItem('emailVal')\n        });\n        this.setState({\n          nameV: localStorage.getItem('nameVal')\n        });\n        console.log(\"HEY \" + this.state.userV);\n      } else {\n        console.alert(\"You are not logged in yet!\");\n      }\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        textAreaVal: e.target.value\n      });\n      this.setState({\n        count: 1\n      });\n    };\n\n    this.state = {\n      blogText: \"\",\n      textAreaVal: \"\",\n      isVisible: false,\n      postList: [],\n      userList: [],\n      nameList: [],\n      bodyList: [],\n      allList: [],\n      count: 0,\n      userV: \"\",\n      nameV: \"\"\n    };\n  } // Implementation of displaying data always function\n\n\n  componentDidMount() {\n    // console.log(\"Inside Suggest.handleSubmit\")\n    //e.preventDefault();\n    this.callApi().then(res => {\n      console.log(\"Hello: Inside 'handleSubmit.then'\");\n      let result = \"\";\n      let resultList,\n          userArr,\n          nameArr,\n          bodyArr = [];\n      let testList = Object.values(res);\n      console.log(Object.values(res[0]));\n      console.log(testList); //debugger;\n\n      userArr = [];\n      nameArr = [];\n      bodyArr = [];\n\n      for (var i in res) {\n        let tempAllArr = [];\n        tempAllArr = Object.values(res[i]);\n        userArr.push(tempAllArr[0]);\n        nameArr.push(tempAllArr[1]);\n        bodyArr.push(tempAllArr[2]);\n      }\n\n      let nList = [];\n\n      for (var i in userArr) {\n        nList = this.state.allList.concat( /*#__PURE__*/React.createElement(\"div\", {\n          key: i,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          class: \"card-header\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          class: \"d-flex justify-content-between align-items-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          class: \"d-flex justify-content-between align-items-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          class: \"ml-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          class: \"h5 m-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 45\n          }\n        }, userArr[i]), /*#__PURE__*/React.createElement(\"div\", {\n          class: \"h7 text-muted\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 45\n          }\n        }, nameArr[i]))))), /*#__PURE__*/React.createElement(\"div\", {\n          class: \"card-body\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          class: \"card-text\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 33\n          }\n        }, bodyArr[i])), /*#__PURE__*/React.createElement(\"div\", {\n          class: \"card-footer\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          href: \"#\",\n          class: \"card-link\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          class: \"fa fa-gittip\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 63\n          }\n        }), \" Like\"), /*#__PURE__*/React.createElement(\"a\", {\n          href: \"#\",\n          class: \"card-link\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          class: \"fa fa-comment\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 63\n          }\n        }), \" Comment\"), /*#__PURE__*/React.createElement(\"a\", {\n          href: \"#\",\n          class: \"card-link\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          class: \"fa fa-mail-forward\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 63\n          }\n        }), \" Share\"))));\n        this.setState({\n          allList: nList\n        });\n      }\n      /*\n      this.setState({userList: userArr});\n      this.setState({nameList: nameArr});\n      this.setState({bodyList: bodyArr});\n      */\n\n\n      this.setState({\n        allList: nList\n      });\n      console.log(userArr.length);\n      console.log(nameArr);\n      console.log(bodyArr); // debugger;\n    }).catch(err => {\n      console.log(\"Hello: Inside 'handleSubmit.catch'\");\n      console.log(err);\n    });\n  }\n\n  /*\n  // submits the post\n  publishPost = () => {\n    this.setState({ blogText: this.state.textAreaVal });\n    this.setState({ isVisible: true });\n       // fix key, count isnt working\n    let newList = this.state.postList.concat(\n      <div key={this.state.count} >\n        <div class=\"card-header\">\n          <div class=\"d-flex justify-content-between align-items-center\">\n            <div class=\"d-flex justify-content-between align-items-center\">\n              <div class=\"ml-2\">\n                <div class=\"h5 m-0\">@samtafoya</div>\n                <div class=\"h7 text-muted\">{localStorage.getItem('nameVal')}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"card-body\">\n          <p class=\"card-text\">{this.state.textAreaVal}</p>\n        </div>\n        <div class=\"card-footer\">\n          <a href=\"#\" class=\"card-link\"><i class=\"fa fa-gittip\"></i> Like</a>\n          <a href=\"#\" class=\"card-link\"><i class=\"fa fa-comment\"></i> Comment</a>\n          <a href=\"#\" class=\"card-link\"><i class=\"fa fa-mail-forward\"></i> Share</a>\n        </div>\n      </div>);\n    this.setState({ postList: newList });\n  }\n  */\n  render() {\n    // figure out how to keep them on there, learn to pull from db on refresh\n    const postList = this.state.postList;\n    const allList = this.state.allList;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 21\n      }\n    }, \"MY FEED\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      class: \"nav nav-tabs card-header-tabs\",\n      id: \"myTab\",\n      role: \"tablist\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      class: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"nav-link active\",\n      id: \"posts-tab\",\n      \"data-toggle\": \"tab\",\n      href: \"#posts\",\n      role: \"tab\",\n      \"aria-controls\": \"posts\",\n      \"aria-selected\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 29\n      }\n    }, \"Make a publication\")))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"tab-content\",\n      id: \"myTabContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"tab-pane fade show active\",\n      id: \"posts\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"posts-tab\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"sr-only\",\n      for: \"message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 29\n      }\n    }, \"post\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      class: \"form-control\",\n      id: \"message\",\n      rows: \"3\",\n      placeholder: \"What are you thinking?\",\n      value: this.state.textareaVal,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"btn-toolbar justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"btn-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleSubmit,\n      type: \"submit\",\n      class: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 29\n      }\n    }, \"Submit\")))), postList.reverse(), allList);\n  }\n\n}\n\nexport default AddReview;","map":{"version":3,"sources":["/Users/sammitafoya/oliver-take-home/src/AddReview.js"],"names":["React","Component","AddReview","constructor","props","callApi","console","log","urlGetUsers","responseT","fetch","body","json","status","errMsg","message","Error","handleSubmit","e","preventDefault","localStorage","getItem","submitUrl","data","blogText","state","userV","nameV","response","method","headers","JSON","stringify","setState","textAreaVal","text","newList","postList","concat","count","alert","handleChange","target","value","isVisible","userList","nameList","bodyList","allList","componentDidMount","then","res","result","resultList","userArr","nameArr","bodyArr","testList","Object","values","i","tempAllArr","push","nList","length","catch","err","render","textareaVal","reverse"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\n\nclass AddReview extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            blogText: \"\",\n            textAreaVal: \"\",\n            isVisible: false,\n            postList: [],\n            userList: [],\n            nameList: [],\n            bodyList: [],\n            allList: [],\n            count: 0,\n            userV: \"\",\n            nameV: \"\"\n        }\n    }\n\n    // Implementation of displaying data always function\n\n    componentDidMount() {\n        // console.log(\"Inside Suggest.handleSubmit\")\n        //e.preventDefault();\n\n        this.callApi()\n            .then(res => {\n                console.log(\"Hello: Inside 'handleSubmit.then'\");\n\n                let result = \"\";\n                let resultList, userArr, nameArr, bodyArr = [];\n                let testList = Object.values(res);\n                console.log(Object.values(res[0]));\n                console.log(testList);\n                //debugger;\n\n                userArr = [];\n                nameArr = [];\n                bodyArr = [];\n                for (var i in res) {\n                    let tempAllArr = [];\n                    tempAllArr = Object.values(res[i]);\n                    userArr.push(tempAllArr[0]);\n                    nameArr.push(tempAllArr[1]);\n                    bodyArr.push(tempAllArr[2]);\n                }\n\n                let nList = [];\n                for (var i in userArr) {\n                    nList = this.state.allList.concat(\n                        <div key={i} >\n                            <div class=\"card-header\">\n                                <div class=\"d-flex justify-content-between align-items-center\">\n                                    <div class=\"d-flex justify-content-between align-items-center\">\n                                        <div class=\"ml-2\">\n                                            <div class=\"h5 m-0\">{userArr[i]}</div>\n                                            <div class=\"h7 text-muted\">{nameArr[i]}</div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"card-body\">\n                                <p class=\"card-text\">{bodyArr[i]}</p>\n                            </div>\n                            <div class=\"card-footer\">\n                                <a href=\"#\" class=\"card-link\"><i class=\"fa fa-gittip\"></i> Like</a>\n                                <a href=\"#\" class=\"card-link\"><i class=\"fa fa-comment\"></i> Comment</a>\n                                <a href=\"#\" class=\"card-link\"><i class=\"fa fa-mail-forward\"></i> Share</a>\n                            </div>\n                        </div>);\n                    this.setState({ allList: nList });\n                }\n\n                /*\n                this.setState({userList: userArr});\n                this.setState({nameList: nameArr});\n                this.setState({bodyList: bodyArr});\n                */\n\n\n\n                this.setState({ allList: nList });\n\n                console.log(userArr.length);\n                console.log(nameArr);\n                console.log(bodyArr);\n                // debugger;\n            })\n            .catch(err => {\n                console.log(\"Hello: Inside 'handleSubmit.catch'\")\n                console.log(err);\n            });\n    };\n\n    // Implementation of the \"callApi\" function\n    callApi = async () => {\n        console.log(\"inside callApi()\");\n\n        var urlGetUsers = \"/api/allposts\";\n        const responseT = await fetch(urlGetUsers);\n        const body = await responseT.json();\n        //debugger;\n        if (responseT.status === 200) {\n            console.log(\"callApi() succeeded\");\n        }\n        else {\n            console.log(\"callApi() failed\");\n            var errMsg = \"ERROR: callApi() failed: (response.status===\" + responseT.status + \") \" + body.message;\n            throw Error(errMsg);\n        }\n        return body;\n    };\n\n    // Implementation of the postback for the submit button click\n    handleSubmit = async e => {\n        console.log(\"Inside Blog.handleSubmit\")\n        e.preventDefault();\n\n        //debugger;\n\n        if (localStorage.getItem('isLoggedin')) {\n\n            var submitUrl = \"/api/blog\";\n\n            var data = {\n                blogText: this.state.blogText,\n                userV: localStorage.getItem('emailVal'),\n                nameV: localStorage.getItem('nameVal')\n            };\n\n            const response = await fetch(submitUrl, {\n                method: 'POST',\n\n                // need these headers for post\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n\n                body: JSON.stringify(data),\n            });\n\n            this.setState({ blogText: this.state.textAreaVal });\n\n            const body = await response.text();\n\n            this.setState({ blogText: this.state.textAreaVal });\n\n            // fix key, count isnt working\n            let newList = this.state.postList.concat(\n                <div key={this.state.count} >\n                    <div class=\"card-header\">\n                        <div class=\"d-flex justify-content-between align-items-center\">\n                            <div class=\"d-flex justify-content-between align-items-center\">\n                                <div class=\"ml-2\">\n                                    <div class=\"h5 m-0\">{localStorage.getItem('emailVal')}</div>\n                                    <div class=\"h7 text-muted\">{localStorage.getItem('nameVal')}</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"card-body\">\n                        <p class=\"card-text\">{this.state.textAreaVal}</p>\n                    </div>\n                    <div class=\"card-footer\">\n                        <a href=\"#\" class=\"card-link\"><i class=\"fa fa-gittip\"></i> Like</a>\n                        <a href=\"#\" class=\"card-link\"><i class=\"fa fa-comment\"></i> Comment</a>\n                        <a href=\"#\" class=\"card-link\"><i class=\"fa fa-mail-forward\"></i> Share</a>\n                    </div>\n                </div>);\n\n            this.setState({ postList: newList });\n\n            this.setState({ userV: localStorage.getItem('emailVal') });\n            this.setState({ nameV: localStorage.getItem('nameVal') });\n            console.log(\"HEY \" + this.state.userV);\n\n        } else {\n            console.alert(\"You are not logged in yet!\");\n        }\n\n    };\n\n    // updates the blog post\n    handleChange = (e) => {\n        this.setState({\n            textAreaVal: e.target.value\n        });\n        this.setState({ count: 1 });\n    }\n\n    /*\n    // submits the post\n    publishPost = () => {\n      this.setState({ blogText: this.state.textAreaVal });\n      this.setState({ isVisible: true });\n  \n      // fix key, count isnt working\n      let newList = this.state.postList.concat(\n        <div key={this.state.count} >\n          <div class=\"card-header\">\n            <div class=\"d-flex justify-content-between align-items-center\">\n              <div class=\"d-flex justify-content-between align-items-center\">\n                <div class=\"ml-2\">\n                  <div class=\"h5 m-0\">@samtafoya</div>\n                  <div class=\"h7 text-muted\">{localStorage.getItem('nameVal')}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"card-body\">\n            <p class=\"card-text\">{this.state.textAreaVal}</p>\n          </div>\n          <div class=\"card-footer\">\n            <a href=\"#\" class=\"card-link\"><i class=\"fa fa-gittip\"></i> Like</a>\n            <a href=\"#\" class=\"card-link\"><i class=\"fa fa-comment\"></i> Comment</a>\n            <a href=\"#\" class=\"card-link\"><i class=\"fa fa-mail-forward\"></i> Share</a>\n          </div>\n        </div>);\n      this.setState({ postList: newList });\n    }\n    */\n\n    render() {\n\n        // figure out how to keep them on there, learn to pull from db on refresh\n\n        const postList = this.state.postList;\n        const allList = this.state.allList;\n\n        return (\n            <div>\n                <div>\n                    <h1>MY FEED</h1>\n                </div>\n\n                <div class=\"card-header\">\n                    <ul class=\"nav nav-tabs card-header-tabs\" id=\"myTab\" role=\"tablist\">\n                        <li class=\"nav-item\">\n                            <a class=\"nav-link active\" id=\"posts-tab\" data-toggle=\"tab\" href=\"#posts\" role=\"tab\"\n                                aria-controls=\"posts\" aria-selected=\"true\">Make\n                                a publication</a>\n                        </li>\n                    </ul>\n                </div>\n\n                <div class=\"tab-content\" id=\"myTabContent\">\n                    <div class=\"tab-pane fade show active\" id=\"posts\" role=\"tabpanel\" aria-labelledby=\"posts-tab\">\n                        <div class=\"form-group\">\n                            <label class=\"sr-only\" for=\"message\">post</label>\n                            <textarea class=\"form-control\" id=\"message\" rows=\"3\"\n                                placeholder=\"What are you thinking?\" value={this.state.textareaVal} onChange={this.handleChange}></textarea>\n                        </div>\n\n                    </div>\n\n                    <div class=\"btn-toolbar justify-content-between\">\n                        <div class=\"btn-group\">\n                            <button onClick={this.handleSubmit} type=\"submit\" class=\"btn btn-primary\">Submit</button>\n                        </div>\n                    </div>\n                </div>\n\n                {postList.reverse()}\n                {allList}\n\n            </div>\n        );\n    }\n}\n\nexport default AddReview;"]},"metadata":{},"sourceType":"module"}